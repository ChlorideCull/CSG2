cmake_minimum_required(VERSION 3.0)
project(CSG2 NONE)

if(NOT REALPATH)
	message(WARNING "Set REALPATH to the final prefix (for example /usr) in case you're building for a package.")
	set(REALPATH CMAKE_INSTALL_PREFIX)
endif()

install(FILES serve.py DESTINATION lib/csg2)
install(DIRECTORY docs DESTINATION share/doc/csg2)
install(DIRECTORY themes DESTINATION share/csg2)
install(DIRECTORY site.example DESTINATION var/csg2)
configure_file(GenerateWrapper.cmake.in GenerateWrapper.cmake @ONLY)
install(SCRIPT ${CMAKE_BINARY_DIR}/GenerateWrapper.cmake)
if(WIN32)
	configure_file(csg2.bat.in csg2.bat.in COPYONLY)
	install(PROGRAMS ${CMAKE_BINARY_DIR}/csg2.bat DESTINATION bin/)
else()
	configure_file(csg2.in csg2.in COPYONLY)
	install(PROGRAMS ${CMAKE_BINARY_DIR}/csg2 DESTINATION bin/)
endif()